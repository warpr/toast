<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Toasts</title>
    <link rel="stylesheet" href="./lud-toast.css" />
    <style>
      body {
          background: black;
          color: white;
          font-family: Helvetica, sans-serif;
          font-size: 1.5rem;
      }

      button {
          padding: 0.5em 1em;;
      }

      a,
      a:visited {
          color: deepskyblue;
      }
    </style>
  </head>
  <body>
    <div class="wrapper">
      <toast-container></toast-container>
      <h1>Toast</h1>
      <p>
        Based on Chris Pennington's
        <a href="https://codepen.io/Coding-in-Public/pen/ZEaKENX">Toast Message codepen</a>,
        there is an <a href="https://youtu.be/EWveKYaX-P0">accompanying video on Youtube</a>.
      </p>

      <p>
        <button onclick="toast(event, 'info', 'A default info message')">Info</button>
        <button onclick="toast(event, 'ok', 'Green OK message')">OK</button>
        <button onclick="toast(event, 'warning', 'This warning message is yellow')">Warning</button>
        <button onclick="toast(event, 'error', 'Errors are RED')" class="error">Error</button>
      </p>
    </div>
    <script>
      class toast_message extends  HTMLElement {
          connectedCallback() {
              this.addEventListener('animationend', () => this.remove());
          }

          set_message(level, message) {
              this.classList.add(level);
              this.innerText = message;
          }
      }

      class toast_container extends HTMLElement {
          connectedCallback() {
              window.toast = this.toast.bind(this);
          }

          toast(event, level, message) {
              this.appendChild(document.createElement('toast-message')).set_message(level, message);
          }
      }

      customElements.define('toast-message', toast_message);
      customElements.define('toast-container', toast_container);
    </script>
  </body>
</html>
